<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><meta content="Transpec – A magical tool for converting your specs to the latest RSpec syntax." name="description" /><title>Transpec – The RSpec Syntax Converter</title><link href="stylesheets/all-08376531.css" media="screen" rel="stylesheet" type="text/css" /></head><body><div class="masthead"><div class="screen-fill"></div><div class="fluid-container"><div class="row"><div class="col-md-5 title"><h1>Transpec</h1><p class="lead">A magical tool for converting your specs to the latest <strong>RSpec</strong> syntax.</p><a class="github btn" href="https://github.com/yujinakayama/transpec">View on GitHub</a></div><div class="col-md-7"><div class="player-wrapper"><div class="player small-font"></div></div></div></div></div></div><div class="features"><div class="container"><div class="row"><div class="col-sm-4"><h3>RSpec 3 ready</h3><p>Transpec lets you upgrade your RSpec 2 specs to RSpec 3 in no time.
It supports <a href="https://github.com/yujinakayama/transpec#supported-conversions">conversions</a> for almost all of the RSpec 3 changes, and it’s <a href="https://relishapp.com/rspec/docs/upgrade">recommended</a> by the RSpec team.</p><p>Also, you can use it on your RSpec 2 project
even if you’re not going to upgrade it to RSpec 3 for now.</p></div><div class="col-sm-4"><h3>Robust conversion</h3><p>Transpec is <em>not</em> a regexp-ish thing.
It parses your Ruby code and performs static code analysis.
This means, for example,
it can recognize whether a <code>mock</code> is a method invocation or a local variable.</p><p>Furthermore, with dynamic code analysis,
it inspects whether a <code>mock</code> is a RSpec method or another method with the same name.</p></div><div class="col-sm-4"><h3>Sane code style</h3><p>You don’t want to rewrite your specs by hand
nor do you want a quick-and-dirty job by poorly written software.</p><p>Transpec converts your specs while honoring your code style
such as line breaks, indentations and parentheses as much as possible.
Also the conversion behavior can be customized with <a href="https://github.com/yujinakayama/transpec#options">command line options</a>.</p></div></div></div></div><div class="document"><h2>Installation</h2>

<p>Simply install <code>transpec</code> with <code>gem</code> command:</p>
<pre class="highlight shell"><span class="gp">$ </span>gem install transpec
</pre>
<p>Normally you don&rsquo;t need to add <code>transpec</code> to your <code>Gemfile</code> or <code>*.gemspec</code> since this isn&rsquo;t a tool to be used daily.</p>

<h2>Basic Usage</h2>

<p>Before converting your specs:</p>

<ul>
<li>Make sure your project has <code>rspec</code> gem dependency <strong>2.14</strong> or later. If not, change your <code>Gemfile</code> or <code>*.gemspec</code> to do so.</li>
<li>Run <code>rspec</code> and check if all the specs pass.</li>
<li>Ensure the Git repository is clean. (You don&rsquo;t want to mix up your changes and Transpec&rsquo;s changes, do you?)</li>
</ul>

<p>Then, run <code>transpec</code> in the project root directory:</p>
<pre class="highlight shell"><span class="gp">$ </span><span class="nb">cd </span>some-project
<span class="gp">$ </span>transpec
Copying the project <span class="k">for </span>dynamic analysis...
Running dynamic analysis with <span class="nb">command</span> <span class="s2">&quot;bundle exec rspec&quot;</span>...
...............................................................................
...................

Finished <span class="k">in </span>13.07 seconds
100 examples, 0 failures

Gathering the spec suite data...

Converting spec/spec_helper.rb
Converting spec/support/cache_helper.rb
Converting spec/support/file_helper.rb
Converting spec/support/shared_context.rb
Converting spec/transpec/ast/node_spec.rb
</pre>
<p>This will run the specs, convert them, and overwrite all spec files in the <code>spec</code> directory.</p>

<p>After the conversion, run <code>rspec</code> again and check whether everything is green:</p>
<pre class="highlight shell"><span class="gp">$ </span>bundle <span class="nb">exec </span>rspec
</pre>
<p>If it&rsquo;s green, commit the changes with an auto-generated message
that describes the conversion summary and helps your team members to understand the new syntax:</p>
<pre class="highlight shell"><span class="gp">$ </span>git commit -aeF .git/COMMIT_EDITMSG
</pre>
<p>And you are done!</p>
</div><div class="whos-used-it"><div class="container"><div class="row"><div class="col-sm-12"><h2 class="heading">Who’s used it?</h2></div></div><div class="row"><div class="col-sm-4 example"><a class="project" href="https://github.com/rspec/rspec-core/pull/1202"><span class="namespace">rspec</span><span class="separator">/</span><span class="repository">rspec-core</span></a></div><div class="col-sm-4 example"><a class="project" href="https://github.com/mitchellh/vagrant/pull/3215"><span class="namespace">mitchellh</span><span class="separator">/</span><span class="repository">vagrant</span></a></div><div class="col-sm-4 example"><a class="project" href="https://github.com/bbatsov/rubocop/pull/704"><span class="namespace">bbatsov</span><span class="separator">/</span><span class="repository">rubocop</span></a></div></div><div class="row"><div class="col-sm-4 example"><a class="project" href="https://github.com/jnicklas/capybara/pull/1192"><span class="namespace">jnicklas</span><span class="separator">/</span><span class="repository">capybara</span></a></div><div class="col-sm-4 example"><a class="project" href="https://github.com/guard/guard-rspec/pull/226"><span class="namespace">guard</span><span class="separator">/</span><span class="repository">guard-rspec</span></a></div><div class="col-sm-4 example"><a class="project" href="https://github.com/intridea/grape/pull/619"><span class="namespace">intridea</span><span class="separator">/</span><span class="repository">grape</span></a></div></div><div class="row"><div class="col-sm-4 example"><a class="project" href="https://github.com/square/kochiku/pull/48"><span class="namespace">square</span><span class="separator">/</span><span class="repository">kochiku</span></a></div><div class="col-sm-4 example"><a class="project" href="https://github.com/arsduo/koala/pull/350"><span class="namespace">arsduo</span><span class="separator">/</span><span class="repository">koala</span></a></div><div class="col-sm-4 example"><a class="project" href="https://github.com/dkubb/axiom/commit/fe9c616e7737687914f6198cf051d3774d0be5bc"><span class="namespace">dkubb</span><span class="separator">/</span><span class="repository">axiom</span></a></div></div></div></div><footer><p>Developed with <span class="fa fa-heart"><span class="text">love</span></span> by <a href="https://twitter.com/nkym37">Yuji Nakayama</a>.</p><p>The terminal player is powered by <a href="https://github.com/sickill/asciinema.org">asciinema.org</a>.</p><p>&copy; 2013–2014 Yuji Nakayama</p></footer><script src="javascripts/all-34f37681.js" type="text/javascript"></script><script type="text/javascript">(function() {
  var playTerminal = function playTerminal() {
    window.mainWorkerPath = "javascripts/asciinema_main_worker-2dfd481c.js";
    window.player = new Asciinema.Player({
      el: $('.player'),
      speed: 1.0,
      model: new Asciinema.Asciicast({
        id: 9742,
        duration: 58.0527749061584,
        stdout_frames_url: 'asciinema/stdout.json',
        width: 80,
        height: 24
      }),
      rendererClass: Asciinema.Renderer.Pre,
      autoPlay: true,
      hud: false
    });
  };

  $(document).ready(function() {
    setTimeout(function() {
      $('.masthead').addClass('demo-scene');
      setTimeout(playTerminal, 900);
    }, 1200);
  });
})();</script><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-42195703-3', 'yujinakayama.me');
ga('send', 'pageview');</script></body></html>